<!-- src\app\pages\home\home.component.html -->

<div class="container">
  <!-- Header -->
  <header class="header">
    <h1>
      <!-- Add GIF icon -->
      <mat-icon class="title-icon">gif</mat-icon>
      GIF Aggregator
    </h1>

    <app-provider-selector
      (providerChange)="onProviderChange($event)"
    ></app-provider-selector>
  </header>

  <!-- Controls -->
  <div class="controls">
    <div class="search-box">
      <input
        type="text"
        [(ngModel)]="searchQuery"
        placeholder="Search GIFs..."
        (keyup.enter)="onSearch()"
        class="search-input"
      />

      <button
        mat-raised-button
        color="accent"
        (click)="onSearch()"
        [disabled]="!searchQuery.trim()"
        class="search-btn"
      >
        <mat-icon>search</mat-icon>
        Search
      </button>
    </div>

    <button
      mat-stroked-button
      color="accent"
      (click)="onTrending()"
      class="trending-btn"
    >
      <mat-icon>trending_up</mat-icon>
      Trending
    </button>
  </div>

  <!-- GIF Grid -->
  <div class="gif-grid" *ngIf="gifs.length > 0">
    <app-gif-card
      *ngFor="let gif of gifs"
      [gif]="gif"
      (download)="onDownload($event)"
    ></app-gif-card>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="gifs.length === 0 && !isLoading">
    <mat-icon class="empty-icon">gif_box</mat-icon>
    <h2>No GIFs Found</h2>
    <p>Try searching or click "Trending" to see popular GIFs</p>
  </div>

  <!-- Load More / Loading -->
  <div class="footer">
    <button
      *ngIf="hasMore && !isLoading && gifs.length > 0"
      mat-stroked-button
      color="accent"
      (click)="onLoadMore()"
      class="load-more-btn"
    >
      <mat-icon>expand_more</mat-icon>
      Load More ({{ currentProvider }})
    </button>

    <app-loading-spinner
      *ngIf="isLoading"
      [message]="'Loading from ' + currentProvider"
    ></app-loading-spinner>
  </div>
</div>
